@model GuhaStore.Core.Entities.Product
<div class="col-md-3 col-sm-6">
    <div class="card h-100">
        <a asp-controller="Products" asp-action="Details" asp-route-id="@Model.Id" class="text-decoration-none">
            <img src="~/uploads/products/@Model.ImageUrl" class="card-img-top" alt="@Model.Name" style="height: 200px; object-fit: cover;" />
        </a>
        <div class="card-body d-flex flex-column">
            <h6 class="card-title">@Model.Name</h6>
            <div class="mt-auto">
                @if (Model.SalePrice.HasValue && Model.SalePrice < Model.Price)
                {
                    <div class="text-decoration-line-through text-muted small">@Model.Price.ToString("N0") ₫</div>
                    <div class="fw-bold text-danger">@Model.SalePrice.Value.ToString("N0") ₫</div>
                    <span class="badge bg-danger">Sale</span>
                }
                else
                {
                    <div class="fw-bold">@Model.Price.ToString("N0") ₫</div>
                }
            </div>
            <form asp-controller="Cart" asp-action="AddToCart" method="post" class="mt-2">
                <input type="hidden" name="productId" value="@Model.Id" />
                <input type="hidden" name="quantity" value="1" />
                <button type="submit" class="btn btn-primary btn-sm w-100">Thêm vào giỏ</button>
            </form>
        </div>
    </div>
</div>

